window.addEventListener("load", function () { terminalMachine.transition("1"), document.getElementById("style").innerHTML = initStyles }); let skipped = !1; function dragElement(e) { var t = 0, n = 0, i = 0, s = 0; function o(o) { (o = o || window.event).preventDefault(), t = i - o.clientX, n = s - o.clientY, i = o.clientX, s = o.clientY, e.style.top = e.offsetTop - n + "px", e.style.left = e.offsetLeft - t + "px" } function a() { document.onmouseup = null, document.onmousemove = null } e.onmousedown = function e(t) { (t = t || window.event).preventDefault(), i = t.clientX, s = t.clientY, document.onmouseup = a, document.onmousemove = o } } document.getElementById("skip-button").addEventListener("click", function () { skipped = !0, terminalMachine.transition("4"), document.getElementById("style").innerHTML = initStyles + dialog1 + dialog2 + dialog3 + dialog4 + bookDialog, document.getElementById("css-terminal-body").innerHTML = dialog1 + dialog2 + dialog3 + dialog4, document.getElementById("down-button").style.display = "none", document.getElementById("up-button").style.display = "none", document.getElementById("rain-button").style.display = "none", document.getElementById("skip-button").style.display = "none", animateRain() }), window.addEventListener("resize", function () { updateCanvasSize(); let e = document.getElementById("css-terminal"); window.innerWidth <= 600 && (e.removeEventListener("mousedown", function (t) { e.style.cursor = "move", e.style.transition = "none", dragElement(e, t) }), e.style.cursor = "default"), window.innerWidth > 600 && (e.addEventListener("mousedown", function (t) { e.style.cursor = "move", e.style.transition = "none", dragElement(e, t) }), e.style.cursor = "move") }); const canvas = document.getElementById("rain"), ctx = canvas.getContext("2d"); canvas.width = window.innerWidth, window.innerWidth < 600 ? canvas.height = 1.5 * window.innerHeight - .001 : canvas.height = window.innerHeight - .001; class RainDrop { constructor(e, t) { this.x = e, this.y = t, this.deltaX = -.1 + .2 * Math.random(), this.weight = 14 + 1 * Math.random(), this.size = 5 + 10 * Math.random(), this.style = ctx.createLinearGradient(0, 0, 70, 1), this.style.addColorStop(0, "rgba(83, 83, 115, 0)"), this.style.addColorStop(0, "rgba(83, 83, 115, 0.5)"), this.style.addColorStop(1, "rgba(166, 166, 191, 1)") } update(e) { this.deltaX = e, this.x += this.deltaX, this.y += this.weight, (!(this.x < canvas.width) || !(this.y < canvas.height)) && (this.x < 0 ? (this.x = canvas.width, this.y = Math.random() * canvas.height) : this.x > canvas.width ? (this.x = 0, this.y = Math.random() * canvas.height) : this.y > canvas.height && (this.y = -70, this.x = Math.random() * canvas.width)) } draw() { !(this.y > window.pageYOffset + window.innerHeight) && (ctx.fillStyle = this.style, ctx.save(), ctx.translate(this.x, this.y), ctx.rotate(Math.atan2(this.weight, this.deltaX)), ctx.fillRect(0, 0, 70, 1), ctx.restore()) } } class RainEffect { constructor(e, t) { this.width = e, this.height = t, this.rainDrops = [], this.windSpeed = 0, this.lightnings = [] } addDrops(e) { for (let t = 0; t < e; t++) { let n = Math.random() * canvas.width, i = Math.random() * canvas.height - canvas.height; this.rainDrops.push(new RainDrop(n, i)) } } addLightning(e) { let t = new Lightning(e); t.x = e.clientX, this.lightnings.push(t) } update() { this.height = canvas.height, this.width = canvas.width, this.windSpeed = 5 * Math.sin(Date.now() / 1e4), this.lightnings.forEach(e => e.update()), this.lightnings.forEach((e, t) => { e.blinkCount > 40 && this.lightnings.splice(t, 1) }); let e = Math.abs(Math.floor(50 * Math.sin(Date.now() / 1e4))) + 50; this.rainDrops.length < e ? this.addDrops(e - this.rainDrops.length) : this.rainDrops.length > e && this.rainDrops.forEach((e, t) => { e.y >= canvas.height - 5 * (Math.abs(this.windSpeed) + 1) && this.rainDrops.splice(t, 1) }), this.rainDrops.forEach(e => e.update(this.windSpeed)) } draw() { this.rainDrops.forEach(e => e.draw()), this.lightnings.forEach(e => e.draw()) } } class Lightning { constructor(e) { this.y = 0, this.x = e.clientX, this.width = 5 * Math.random(), this.branches = [], this.blinkCount = 0 } update() { for (this.blinkCount++; this.y < canvas.height;) { let e = this.branches.length > 0 ? this.branches[this.branches.length - 1][2] : this.x, t = this.branches.length > 0 ? this.branches[this.branches.length - 1][3] : this.y, n = (this.branches.length > 0 ? this.branches[this.branches.length - 1][4] : this.width) * .9, i = e + 100 * Math.random() - 50, s = t + 25 * Math.random() + 25; this.branches.push([e, t, i, s, n]), this.branches.forEach(e => { this.y = e[3] > this.y ? e[3] : this.y, this.x = e[3] > this.y ? e[2] : this.x, this.width = e[4] < this.width ? e[4] : this.width }) } } draw() { if (this.blinkCount > 10 && this.blinkCount < 20) return; let e = document.createElement("canvas"); e.width = canvas.width, e.height = canvas.height; let t = e.getContext("2d"); t.filter = "blur(2px)", t.beginPath(), t.moveTo(this.branches[0][0], this.branches[0][1]), this.branches.forEach(e => { t.lineTo(e[2], e[3]) }), t.lineWidth = this.width, t.strokeStyle = "#e6e6ec", t.stroke(), ctx.fillStyle = "#e6e6ec", this.branches.forEach(t => { ctx.drawImage(e, 0, 0) }), ctx.save() } } const rain = new RainEffect(canvas.width, canvas.height); function updateCanvasSize() { canvas.width = window.innerWidth, canvas.height = 1.5 * window.innerHeight - .001; let e = window.innerWidth < 600; if ((!e || canvas.height !== 1.5 * window.innerHeight - .001) && (e || canvas.height !== window.innerHeight - .001) && e) { canvas.height = 1.5 * window.innerHeight - .001; return } } function animateRain() { ctx.clearRect(0, 0, canvas.width, canvas.height), rain.update(), rain.draw(), requestAnimationFrame(animateRain) } function animateLightning(e) { rain.addLightning(e) } class StateMachine { constructor(e) { this.previousState = null, this.currentState = e, this.handlers = {} } transition(e, t) { this.previousState = this.currentState, this.currentState = e, this.handlers[e] && this.handlers[e](t) } onEnter(e, t) { this.handlers[e] = t } } const terminalMachine = new StateMachine("1"), canvasMachine = new StateMachine("inactive"), bookMachine = new StateMachine("idle"); terminalMachine.onEnter("1", () => { writeStyles(dialog1, 0, 35, "css-terminal-body", "style") }), document.getElementById("down-button").addEventListener("click", function () { if ("1" != terminalMachine.currentState || document.getElementById("css-terminal-body").innerHTML.length - (dialog1 + "<span class='blinker'></span>").length != 0) return; let e = document.getElementById("css-terminal"); e.style.transition = "all 1s", e.style.top = "55%"; let t = document.getElementById("down-button"); t.remove(), e.removeEventListener("mouseup", arguments.callee), terminalMachine.transition("2") }), document.getElementById("css-terminal").addEventListener("mousedown", function (e) { if (document.getElementById("css-terminal-body").innerHTML.length - (dialog1 + "<span class='blinker'></span>").length != 0) return; let t = document.getElementById("css-terminal"); t.style.cursor = "move", t.style.transition = "none", dragElement(t, e) }), document.getElementById("css-terminal").addEventListener("mouseup", function () { if (document.getElementById("css-terminal-body").innerHTML.length - (dialog1 + "<span class='blinker'></span>").length != 0) return; let e = document.getElementById("css-terminal"); !(e.getBoundingClientRect().top < .1 * window.innerHeight) && "1" == terminalMachine.currentState && (e.removeEventListener("mouseup", arguments.callee), document.getElementById("down-button").remove(), terminalMachine.transition("2")) }), terminalMachine.onEnter("2", () => { writeStyles(dialog2, 0, 35, "css-terminal-body", "style") }), window.addEventListener("click", function (e) { "1" !== terminalMachine.currentState && animateLightning(e) }), document.getElementById("rain-button").addEventListener("click", function () { if (document.getElementById("css-terminal-body").innerHTML.length - (dialog1 + dialog2 + "<span class='blinker'></span>").length != 0 || "2" != terminalMachine.currentState) return; animateRain(); let e = document.getElementById("rain-button"); e.removeEventListener("click", arguments.callee), e.remove(), terminalMachine.transition("3") }), terminalMachine.onEnter("3", () => { writeStyles(dialog3, 0, 35, "css-terminal-body", "style") }), document.getElementById("up-button").addEventListener("click", function () { if (document.getElementById("css-terminal-body").innerHTML.length - (dialog1 + dialog2 + dialog3 + "<span class='blinker'></span>").length != 0) return; let e = document.getElementById("css-terminal"); if ("3" != terminalMachine.currentState) return; e.style.transition = "all 1s", e.style.top = "0%"; let t = document.getElementById("up-button"); t.removeEventListener("click", arguments.callee), t.remove(), e.removeEventListener("mouseup", arguments.callee), terminalMachine.transition("4") }), document.getElementById("css-terminal").addEventListener("mouseup", function () { if (document.getElementById("css-terminal-body").innerHTML.length - (dialog1 + dialog2 + dialog3 + "<span class='blinker'></span>").length != 0) return; let e = document.getElementById("css-terminal"); !(e.getBoundingClientRect().top > .1 * window.innerHeight) && "3" == terminalMachine.currentState && (e.removeEventListener("mouseup", arguments.callee), document.getElementById("up-button").remove(), terminalMachine.transition("4")) }), terminalMachine.onEnter("4", () => { writeStyles(dialog4, 0, 35, "css-terminal-body", "style") }); var observer = new MutationObserver(function () { "4" == terminalMachine.currentState && document.getElementById("css-terminal-body").innerHTML.length - (dialog1 + dialog2 + dialog3 + dialog4 + "<span class='blinker'></span>").length == 0 && (document.getElementById("style").innerHTML += bookDialog, terminalMachine.transition("5"), bookMachine.transition("idle")) }); observer.observe(document.getElementById("css-terminal-body"), { childList: !0, characterData: !0 }), document.getElementById("book-back-button").addEventListener("click", function () { if ("toc" === (current = bookMachine.currentState)) { bookMachine.transition("idle"); return } bookMachine.transition("toc") }), document.getElementById("book-forward-button").addEventListener("click", function () { if ("idle" === (current = bookMachine.currentState)) { bookMachine.transition("toc"); return } if ("toc" === current) { bookMachine.transition("python"); return } if ("python" === current) { bookMachine.transition("webdev"); return } if ("webdev" === current) { bookMachine.transition("assembly"); return } }); const bookAnimations = ["idle-to-toc", "toc-to-idle", "toc-to-page", "page-to-toc",], bookStates = ["idle", "toc", "page",], tocButtons = ["python-button", "webdev-button", "assembly-button", "toc"], bookPages = ["python-page", "webdev-page", "assembly-page",]; bookMachine.onEnter("idle", () => { tocButtons.forEach(e => { document.getElementById(e).style.display = "none" }), document.getElementById("book-back-button").style.display = "none", document.getElementById("book-forward-button").style.display = "block", bookAnimations.forEach(e => { document.getElementById("book").classList.remove(e) }), "toc" === bookMachine.previousState && (document.getElementById("book").classList.add("toc-to-idle"), setTimeout(() => { document.getElementById("book").classList.remove("toc-to-idle") }, 1e3)), bookPages.forEach(e => { document.getElementById(e).style.display = "none" }), bookStates.forEach(e => { document.getElementById("book").classList.remove(e) }), document.getElementById("book").classList.add("idle") }), bookMachine.onEnter("toc", () => { document.getElementById("book-forward-button").style.display = "none", document.getElementById("book-back-button").style.display = "block", tocButtons.forEach(e => { document.getElementById(e).style.display = "block" }), bookAnimations.forEach(e => { document.getElementById("book").classList.remove(e) }), "idle" === bookMachine.previousState && (document.getElementById("book").classList.add("idle-to-toc"), setTimeout(() => { document.getElementById("book").classList.remove("idle-to-toc") }, 1e3)), ("python" === bookMachine.previousState || "webdev" === bookMachine.previousState || "assembly" === bookMachine.previousState) && (document.getElementById("book").classList.add("page-to-toc"), setTimeout(() => { document.getElementById("book").classList.remove("page-to-toc") }, 1e3)), bookPages.forEach(e => { document.getElementById(e).style.display = "none" }), bookStates.forEach(e => { document.getElementById("book").classList.remove(e) }), document.getElementById("book").classList.add("toc") }), bookMachine.onEnter("python", () => { document.getElementById("book-back-button").style.display = "block", document.getElementById("book-forward-button").style.display = "none", tocButtons.forEach(e => { document.getElementById(e).style.display = "none" }), bookAnimations.forEach(e => { document.getElementById("book").classList.remove(e) }), "toc" === bookMachine.previousState && (document.getElementById("book").classList.add("toc-to-page"), setTimeout(() => { document.getElementById("book").classList.remove("toc-to-page") }, 1e3)), bookPages.forEach(e => { document.getElementById(e).style.display = "none" }), document.getElementById("python-page").style.display = "block", bookStates.forEach(e => { document.getElementById("book").classList.remove(e) }), document.getElementById("book").classList.add("page") }), bookMachine.onEnter("webdev", () => { document.getElementById("book-back-button").style.display = "block", document.getElementById("book-forward-button").style.display = "none", tocButtons.forEach(e => { document.getElementById(e).style.display = "none" }), bookAnimations.forEach(e => { document.getElementById("book").classList.remove(e) }), "toc" === bookMachine.previousState && (document.getElementById("book").classList.add("toc-to-page"), setTimeout(() => { document.getElementById("book").classList.remove("toc-to-page") }, 1e3)), bookPages.forEach(e => { document.getElementById(e).style.display = "none" }), document.getElementById("webdev-page").style.display = "block", bookStates.forEach(e => { document.getElementById("book").classList.remove(e) }), document.getElementById("book").classList.add("page") }), bookMachine.onEnter("assembly", () => { document.getElementById("book-back-button").style.display = "block", document.getElementById("book-forward-button").style.display = "none", tocButtons.forEach(e => { document.getElementById(e).style.display = "none" }), bookAnimations.forEach(e => { document.getElementById("book").classList.remove(e) }), "toc" === bookMachine.previousState && (document.getElementById("book").classList.add("toc-to-page"), setTimeout(() => { document.getElementById("book").classList.remove("toc-to-page") }, 1e3)), bookPages.forEach(e => { document.getElementById(e).style.display = "none" }), document.getElementById("assembly-page").style.display = "block", bookStates.forEach(e => { document.getElementById("book").classList.remove(e) }), document.getElementById("book").classList.add("page") }), document.getElementById("python-button").addEventListener("click", () => { bookMachine.transition("python") }), document.getElementById("webdev-button").addEventListener("click", () => { bookMachine.transition("webdev") }), document.getElementById("assembly-button").addEventListener("click", () => { bookMachine.transition("assembly") }); let comment = !1; function writeStyles(e, t, n, i, s) { if (skipped) { document.getElementById(s).innerHTML = dialog1 + dialog2 + dialog3 + dialog4 + bookDialog; return } if (t < e.length) { var o = document.getElementById(i).parentNode; if (o.scrollTop = o.scrollHeight, e.substring(t - 2, t).match(/\*\//) && (comment = !1), e.substring(t - 2, t).match(/\/\*/) && (comment = !0), n = e.substring(t, t + 1).match(/\s/) && e.substring(t - 1, t).match(/[.!?]$/) ? .8 : !0 == comment ? .35 : .15, document.getElementsByClassName("blinker").length > 0) { var a = document.getElementsByClassName("blinker")[0]; a.parentNode.removeChild(a) } var l = document.getElementById(i).innerHTML + e[t++]; document.getElementById(i).innerHTML = l + "<span class='blinker'></span>", e.substring(t - 1, t).match(/\n/) && (currentLineSlice = e.substring(e.lastIndexOf("\n", t - 2) + 1, t - 1), document.getElementById(s).innerHTML += currentLineSlice), setTimeout(function () { writeStyles(e, t, n, i, s) }, n) } }
dialog1 = `
/*
* Hey, you found my website.
* I made this to store some of my projects.
* It's a bit empty, isn't it?
* We can change that.
* Let's start with a clean
* work area.
*/

pre {
    white-space: pre-wrap;
}

* {
    transition: all 1s;
    font-family: 'Ubuntu Mono';
    font-size: 1.2rem;
}

.terminal {
    width: 50%;
    height: 40%;
    position: absolute;
    border-top: 30px solid #454545;
    z-index: 2;
    background-color: rgba(0,0,0,0);
}

.terminal-body {
    overflow: auto;
    width: 100%;
    height: 100%;
    margin-top: -1px;
    color: #c1c1d2;
    background-color: rgba(30, 30, 30, 0.9);
    line-height: 1.5;
    user-select: none;
}

/*
* And just in case you're on mobile...
*/

@media screen and (max-width: 600px) {
    .terminal {
        width: 100%;
        display: inline-block;
        left: 0;
        right: 0;
        top: 0;
    }

    * {
        font-size: 0.75rem;
    }
}

/*
* Can't forget the background!
*/

.background {
    position: absolute;
    z-index: 0;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(to bottom, #1a1a24, #333346);
}

/*
* OK, let's add a CLI style blinker.
*/

.blinker {
  margin-bottom: -2px;
  height: 15px;
  margin-left: -1px;
  border-left: 10px solid #bbbbbb;
  animation: blinker 0.9s steps(2, start) infinite;
}

@keyframes blinker {
  to {
    visibility: hidden;
  }
}

/*
* And swap out the scrollbar!
*/

.terminal-body::-webkit-scrollbar {
    width: 15px;
    background-color: rgba(30, 30, 30, 0.95);
}

.terminal-body::-webkit-scrollbar-thumb {
    background-color: #a6a6a6;
    width: 15px;
    border-radius: 0px;
    opacity: 0.1;
}

.terminal-body::-webkit-scrollbar-thumb:hover {
    background-color: #bbbbbb;
    opacity: 0.9;
}

.terminal-body::-webkit-scrollbar-thumb {
    opacity: 0.9;
}

/*
* Desktop users can drag the terminal element.
* For everyone else, let's add some buttons.
*/

@media screen and (max-width: 600px) {
    .down-button {
        display: inline-block;
        z-index: 1;
        bottom: 10%;
    }

    .down-button, .up-button {
        position: absolute;
        width: 30px;
        height: 30px;
        left: calc(50% - 15px);
        border: none;
        background-color: rgba(0,0,0,0);
    }

    .down-button:hover, .up-button:hover {
        cursor: pointer;
        animation: pulse 1s infinite;
    }

    @keyframes pulse {
        0% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.5);
        }
        100% {
            transform: scale(1);
        }
    }
}

/*
* Ah. Now that's more like it.
* Hmm. What next?
* Let's do what any good
* developer wants use
* their skills to do:
* Make it rain!
* We'll just need a bit of
* space at the top.
* Can you do me a favour and
* move this element down?
* I can wait.
*/`

dialog2 = `
/*
* Thanks for that.
* We have a bit of breathing room now.
*/

.rain-button {
    z-index: 1; display: block; position: absolute;
    width: 200px;
    height: auto;
    left: calc(50% - 75px);
    top: 5%;
    background-color: #454545;
    color: #c1c1d2; line-height: 1.5;
    user-select: none; cursor: pointer;
    border: 0px;
}

/*
* Let's make it rain!
*/
`

dialog3 = `
/*
* Well... that's not what I had
* in mind when I said "make it rain".
* But hey, it's a bit cozier, isn't it?
* And puns are fun.
* OK, last thing.
* This is a project portfolio
* website after all.
* Let's add some projects.
*/

@media screen and (max-width: 600px) {
    .up-button {
        display: block;
        position: absolute;
        z-index: 1;
        top: 10%;
    }
}

/*
* Move the element back up
* To make space below.
*/
`

dialog4 = `
/*
* Thanks for that. First, let's
* settle in with a cup of warm tea...
*/

:root {
    --teaSize: 256px;
}

.tea {
    display: block;
    position: absolute;
    z-index: 1;
    left: calc(33% - var(--teaSize));
    top: 45%;
    width: var(--teaSize);
    height: var(--teaSize);
    background-image: url('assets/images/tea.svg');
    background-position: 0 0;
    background-size: cover;
    animation: tea 1.5s steps(1) infinite;
}

@media screen and (max-width: 600px) {
    .tea {
        left: calc(50% - var(--teaSize) / 2);
        top: calc(40% + 110% / 3 - var(--teaSize) / 2);
    }

    .background {
        height: 150%;
    }
}

@keyframes tea {
    0% {
        background-position: 0;
    }
    17% {
        background-position: var(--teaSize 0);
    }
    33% {
        background-position: calc(2 * var(--teaSize)) 0;
    }
    50% {
        background-position: calc(3 * var(--teaSize)) 0;
    }
    67% {
        background-position: calc(4 * var(--teaSize)) 0;
    }
    83% {
        background-position: calc(5 * var(--teaSize)) 0;
    }
    100% {
        background-position: calc(6 * var(--teaSize)) 0;
    }
}

/*
* And of course a good book...
*/


:root {
    --bookWidth: calc(256px * 0.8);
    --bookHeight: 256px;
}


.book {
    display: block;
    position: absolute;
    z-index: 1;
    right: calc(33% - var(--bookWidth));
    top: 45%;
    width: var(--bookWidth);
    height: var(--bookHeight);
    background-image: url('assets/images/book.svg');
    background-position: 0 0;
    background-size: cover;
}

@media screen and (max-width: 600px) {
    .book {
        left: calc(50% - var(--bookWidth) / 2);
        top: calc(40% + 110% * 2 / 3 - var(--bookHeight) / 2);
    }
}

/*
* You thought I'd show you the book animation.
* Honestly, it was a pain.
* It's hidden away.
* If you want to find it, you know where to look.
*/

/*
* So there you have it!
* Enjoy yet another mildly
* egotistical personal portfolio website.
*
* I'm still learning, and this website
* was my way to teach myself bit of
* CSS, JavaScript, and html.
* If you find any bugs or have
* any feedback, please let me know.
*
* Contact:
* Richard Stephens
* richard.stephens.15@ucl.ac.uk
* +44 0 7704 930 825
*/
`


bookDialog = `
#book-content {
    position: absolute;
    z-index: 1;
    width: 45%;
    height: 60%;
    background-color: transparent;
    top: 35%;
    left: 53%;
}

#book-back-button,
#book-forward-button {
    position: absolute;
    z-index: 2;
    width: calc(var(--bookWidth) / 2);
    height: 75%;
    background-color: transparent;
    border: 0px;
    cursor: pointer;
    top: 25%;
}

#book-back-button {
    left: 0;
}

#book-forward-button {
    right: 0;
}

#toc {
    right: 33%;
    top: 20%;
}

#python-button,
#webdev-button,
#assembly-button,
#python-page,
#webdev-page,
#assembly-page,
#toc {
    width: auto;
    height: auto;
    display: none;
    z-index: 3;
    color: #454545;
    background-color: transparent;
    border: 0px;
    font-family: 'VT323', 'monospace';
    font-size: 1rem;
}

#python-button,
#webdev-button,
#assembly-button,
{
    left: 50%;
    position: absolute;
    width: auto;
    height: calc(var(--bookHeight) / 4);
}

#python-button:hover, #webdev-button:hover, #assembly-button:hover {
    cursor: pointer;
}

#python-button {
    top: 30%;
}

#webdev-button {
    top: 60%;
}

#assembly-button {
    top: 90%;
}

.idle-to-toc {
    cursor: pointer;
    animation: idle-toc 1s steps(1);
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
}

.toc-to-idle {
    cursor: pointer;
    animation: idle-toc 1s steps(1);
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
    animation-direction: reverse;
}

@keyframes idle-toc {
    0% {
        background-position: 0 0;
    }

    17% {
        background-position: calc(42 * var(--bookWidth)) 0;
    }

    33% {
        background-position: calc(41 * var(--bookWidth)) 0;
    }

    50% {
        background-position: calc(40 * var(--bookWidth)) 0;
    }

    67% {
        background-position: calc(39 * var(--bookWidth)) 0;
    }

    83% {
        background-position: calc(38 * var(--bookWidth)) 0;
    }

    100% {
        background-position: calc(37 * var(--bookWidth)) 0;
    }
}

.toc-to-page {
    cursor: pointer;
    animation: toc-page 1s steps(1);
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
}

.page-to-toc {
    cursor: pointer;
    animation: toc-page 1s steps(1);
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
    animation-direction: reverse;
}

@keyframes toc-page {
    0% {
        background-position: calc(37 * var(--bookWidth)) 0;
    }

    8% {
        background-position: calc(36 * var(--bookWidth)) 0;
    }

    17% {
        background-position: calc(35 * var(--bookWidth)) 0;
    }

    25% {
        background-position: calc(34 * var(--bookWidth)) 0;
    }

    33% {
        background-position: calc(33 * var(--bookWidth)) 0;
    }

    42% {
        background-position: calc(32 * var(--bookWidth)) 0;
    }

    50% {
        background-position: calc(31 * var(--bookWidth)) 0;
    }

    58% {
        background-position: calc(30 * var(--bookWidth)) 0;
    }

    67% {
        background-position: calc(29 * var(--bookWidth)) 0;
    }

    75% {
        background-position: calc(28 * var(--bookWidth)) 0;
    }

    83% {
        background-position: calc(27 * var(--bookWidth)) 0;
    }

    92% {
        background-position: calc(26 * var(--bookWidth)) 0;
    }

    100% {
        background-position: calc(25 * var(--bookWidth)) 0;
    }
}

.idle,
.toc,
.page {
    display: block;
    position: absolute;
    z-index: 1;
    right: calc(33% - var(--bookWidth));
    top: 45%;
    width: var(--bookWidth);
    height: var(--bookHeight);
    background-size: cover;
    background-image: url('assets/images/book.svg');
}

@media screen and (max-width: 600px) {

    .idle,
    .toc,
    .page {
        left: calc(50% - var(--bookWidth) / 2);
        top: calc(40% + 110% * 2 / 3 - var(--bookHeight) / 2);
    }
}

.idle {
    background-position: 0 0;
}

.toc {
    background-position: calc(37 * var(--bookWidth)) 0;
}

.page {
    background-position: calc(1 * var(--bookWidth)) 0;
}
`

initStyles = `
.rain-button,
.down-button,
.up-button,
.book,
#book-back-button,
#book-forward-button,
#toc,
#python-button,
#webdev-button,
#assembly-button,
#python-page,
#webdev-page,
#assembly-page {
    display: none;
}

#skip-button {
    z-index: 1;
    display: block;
    position: absolute;
    width: 200px;
    height: auto;
    right: 5%;
    bottom: 5%;
    background-color: #454545;
    color: #c1c1d2;
    line-height: 1.5;
    user-select: none;
    cursor: pointer;
    border: 0px;
}
`