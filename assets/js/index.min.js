/*ISC License. See https://github.com/richardstephens-dev/Personal-Website for full source and license text*/ const e={en:{"welcome-pre":"Welcome! You'll find coding projects here. Keep in mind that the code isn't perfect. I learn by experimenting, and experiments only work when you know you can improve. When you see a way to improve a project, let me know!","projects-header":"Projects:","contact-h1":"Let's talk!","contact-p":"Richard Stephens\nme@richardstephens.dev\n+1 (907) 726 4811"},ru:{"welcome-pre":"Добро пожаловать! Здесь вы найдете проекты программирования. Чтобы вы знали—код здесь не является идеальным. Я учусь на экспериментах, и это возможно только тогда, когда знаете, можете улучшить. Когда увидите способ улучшить проект, дайте мне знать!","projects-header":"Проекты:","contact-h1":"Давайте поговорим!","contact-p":"Ричард Стивенс\nme@richardstephens.dev\n+1 (907) 726 4811"}};var t=e.en;function n(e){let t=document.cookie.split("; ");for(let n=0;n<t.length;n++){let a=t[n].split("=");if(a[0]==e)return a[1]}}function a(){switch(n("lang")){case"en":document.documentElement.setAttribute("lang","en"),document.getElementById("lang-img").src="assets/images/ru.svg",t=e.en;break;case"ru":document.documentElement.setAttribute("lang","ru"),document.getElementById("lang-img").src="assets/images/en.svg",t=e.ru;break;default:const n=navigator.language||navigator.userLanguage;document.cookie="ru"==n?"lang=ru":"lang=en",a()}}function s(){switch(n("theme")){case"dark":document.documentElement.setAttribute("theme","dark"),document.getElementById("theme-img").src="assets/images/light.svg";break;case"light":document.documentElement.setAttribute("theme","light"),document.getElementById("theme-img").src="assets/images/dark.svg";break;default:window.matchMedia("(prefers-color-scheme: dark)").matches?document.cookie="theme=dark":document.cookie="theme=light",s()}}let r;function c(e,t,n,a){if(t<e.length){if(n=e.substring(t,t+1).match(/\s/)&&e.substring(t-1,t).match(/[.!?]$/)?750:25,document.getElementsByClassName("blinker").length>0){var s=document.getElementsByClassName("blinker")[0];s.parentNode.removeChild(s)}var o=document.getElementById(a).innerHTML+e[t++];document.getElementById(a).innerHTML=o+"<span class='blinker'></span>",r=setTimeout((function(){c(e,t,n,a)}),n)}}window.addEventListener("load",(function(){s(),a(),c(t["welcome-pre"],0,0,"welcome-pre"),document.getElementById("projects-header").innerHTML=t["projects-header"],async function(){const e=await fetch("https://api.github.com/users/richardstephens-dev/repos").then((e=>e.json())).then((e=>JSON.stringify(e,null,2)));let n=JSON.parse(e).sort(((e,t)=>new Date(e.updated_at)-new Date(t.updated_at))),a=[];for(let e=0;e<n.length;e++)a.push(n[e].name);let s={},r={};for(let e=0;e<a.length;e++){const t=await fetch(`https://api.github.com/repos/richardstephens-dev/${a[e]}/commits?per_page=3`).then((e=>e.json())).then((e=>JSON.stringify(e,null,2))),n=await fetch(`https://api.github.com/repos/richardstephens-dev/${a[e]}/languages`).then((e=>e.json())).then((e=>JSON.stringify(e,null,2)));let c=JSON.parse(t);s[a[e]]=c;let o=JSON.parse(n);r[a[e]]=o}let c=document.getElementById("project-cards");c.innerHTML="";for(let e=0;e<Math.min(5,n.length);e++){let t="",a='<div class="langs-wrapper">';for(let a=0;a<=3;a++){let r=s[n[e].name][a];null!=r&&(t+=`\n(${r.commit.author.date.split("T")[0]}): ${r.commit.message}<br>`)}for(let t in r[n[e].name])a+=`<img class="logo" src="assets/images/${t}.svg"/>`;a+="</div>";let o=n[e],i=document.createElement("div");i.classList.add("card"),i.innerHTML=`\n            <a href="${o.html_url}" target="_blank">\n            <h1>${o.name.split("-").join(" ")}</h1></a>\n            <p>${o.description}\n            ${t}\n            ${a}\n            </p>\n        `,i.style.top=10*e+"px",i.style.transform=`rotate(${4*(3*Math.random()-2)}deg)`,c.appendChild(i)}let o=document.createElement("div");o.classList.add("card"),o.id="contact-card",o.innerHTML=`\n        <h1>${t["contact-h1"]}</h1>\n        <p>${t["contact-p"]}</p>\n    `,c.appendChild(o)}()}));